# –ü–ª–∞–Ω –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞ GophKeeper

> –û–±–Ω–æ–≤–ª–µ–Ω–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ TECHNICAL_SPEC.md (–≤–µ—Ä—Å–∏—è 2)

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫ –∏ –ø–æ–¥—Ö–æ–¥—ã

### –ö–ª—é—á–µ–≤—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:
- **Go 1.22+** - –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–æ–≤—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π net/http.ServeMux
- **SQLite** (modernc.org/sqlite) + **goose** - pure Go SQLite –±–µ–∑ CGO, –º–∏–≥—Ä–∞—Ü–∏–∏ embed.FS
- **BoltDB** - key-value —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
- **Argon2id** - key derivation
- **AES-256-GCM** - —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ
- **JWT** - –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- **TLS** - Let's Encrypt –¥–ª—è production, –æ–ø—Ü–∏—è --insecure –¥–ª—è dev
- **net/http.ServeMux** - HTTP —Ä–æ—É—Ç–µ—Ä (Go 1.22+)
- **log/slog** - —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- **Cobra** - CLI framework

### –ü–æ–¥—Ö–æ–¥—ã –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ:
- **–°–ª–æ–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** (3 —Å–ª–æ—è):
  - Access Layer (HTTP handlers / CLI commands)
  - Service Layer (–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞)
  - Storage Layer (—Ä–∞–±–æ—Ç–∞ —Å –ë–î)
- **Table-driven tests** (—Ç–∞–±–ª–∏—á–Ω—ã–µ —Ç–µ—Å—Ç—ã)
- **testify** - assertions –≤ —Ç–µ—Å—Ç–∞—Ö
- **gomock** - –º–æ–∫–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤
- **TDD workflow**: –º–æ–¥—É–ª—å ‚Üí —Ç–µ—Å—Ç ‚Üí –∑–∞–ø—É—Å–∫ ‚Üí —Å–ª–µ–¥—É—é—â–∏–π —Ç–µ—Å—Ç
- **80%+ coverage** –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ

---

## üìä –¢–ï–ö–£–©–ï–ï –°–û–°–¢–û–Ø–ù–ò–ï –ü–†–û–ï–ö–¢–ê (–æ–±–Ω–æ–≤–ª–µ–Ω–æ: 2025-10-15)

### ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –≤—ã–ø–æ–ª–Ω–µ–Ω–æ (6 —Ñ–∞–∑):
- **–§–∞–∑–∞ 1:** –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ (100%)
- **–§–∞–∑–∞ 2.1:** –í–∞–ª–∏–¥–∞—Ü–∏—è (100% coverage)
- **–§–∞–∑–∞ 2.2:** –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö (100% - –ó–ê–í–ï–†–®–ï–ù–û!) üéâ
- **–§–∞–∑–∞ 3:** –ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—è (90.1% coverage - –æ—Ç–ª–∏—á–Ω–æ!)
- **–§–∞–∑–∞ 4:** –•—Ä–∞–Ω–∏–ª–∏—â–µ SQLite (80.3% coverage - –ó–ê–í–ï–†–®–ï–ù–û!) üéâ
- **–§–∞–∑–∞ 5:** CRDT (94.7% coverage - –ó–ê–í–ï–†–®–ï–ù–û!) üéâ

### ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ (4 —Ñ–∞–∑—ã):
- ~~**–§–∞–∑–∞ 2.2:** –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö - –ü–ï–†–ï–ù–ï–°–ï–ù–û –í –ó–ê–í–ï–†–®–Å–ù–ù–´–ï! ‚úÖ~~
- ~~**–§–∞–∑–∞ 4:** –•—Ä–∞–Ω–∏–ª–∏—â–µ - –ü–ï–†–ï–ù–ï–°–ï–ù–û –í –ó–ê–í–ï–†–®–Å–ù–ù–´–ï! ‚úÖ~~
- **–§–∞–∑–∞ 6:** API (~60%) - —Ç–æ–ª—å–∫–æ auth endpoints, –Ω–µ—Ç sync
- **–§–∞–∑–∞ 7:** –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (~50%) - handlers –µ—Å—Ç—å, middleware –Ω–µ—Ç, **0% coverage** ‚ùå
- **–§–∞–∑–∞ 8:** –°–µ—Ä–≤–µ—Ä (~40%) - —Ä–∞–±–æ—Ç–∞–µ—Ç HTTP, –Ω–µ—Ç TLS –∏ sync
- **–§–∞–∑–∞ 9:** –ö–ª–∏–µ–Ω—Ç (~20%) - —Ç–æ–ª—å–∫–æ register/login, –Ω–µ—Ç —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏

### ‚ùå –ù–µ –Ω–∞—á–∞—Ç–æ (4+ —Ñ–∞–∑):
- **–§–∞–∑–∞ 10-14:** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è, CI/CD

### üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:
1. ~~**CRDT –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω**~~ ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û!** CRDT —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Å 94.7% coverage
2. ~~**–ù–µ—Ç –º–æ–¥–µ–ª–µ–π –¥–∞–Ω–Ω—ã—Ö**~~ ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û!** –í—Å–µ –º–æ–¥–µ–ª–∏ —Å–æ–∑–¥–∞–Ω—ã –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã
3. ~~**–ù–µ—Ç —Ç–∞–±–ª–∏—Ü—ã user_data**~~ ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û!** –ú–∏–≥—Ä–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞ –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∞
4. ~~**–ù–µ—Ç DataRepository**~~ ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û!** DataRepository —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Å CRDT conflict resolution
5. ~~**–ù–∏–∑–∫–∏–π coverage –¥–ª—è storage**~~ ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û!** internal/server/storage –¥–æ—Å—Ç–∏–≥ 80.3% coverage
6. **–ù–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏** - –Ω—É–∂–Ω—ã sync endpoints –∏ handlers –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏
7. **–ù–∏–∑–∫–∏–π coverage –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –º–æ–¥—É–ª–µ–π** - 5/9 –º–æ–¥—É–ª–µ–π –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã (handlers, jwt, client/* - 0%)
8. **–ù–µ—Ç TLS** - —Å–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ HTTP (—Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ: HTTPS)
9. **–ù–µ—Ç middleware** - Auth, RateLimit, Logging –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –ø—É—Å—Ç–∞—è

### üìà –ü—Ä–æ–≥—Ä–µ—Å—Å –ø–æ coverage:
| –ú–æ–¥—É–ª—å | Coverage | –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|--------|----------|------------|--------|
| internal/crypto | 90.1% | 80%+ | ‚úÖ –û—Ç–ª–∏—á–Ω–æ |
| internal/validation | 100% | 80%+ | ‚úÖ –û—Ç–ª–∏—á–Ω–æ |
| **internal/crdt** | **94.7%** | **80%+** | **‚úÖ –û—Ç–ª–∏—á–Ω–æ** üéâ |
| **internal/server/storage** | **80.3%** | **80%+** | **‚úÖ –û—Ç–ª–∏—á–Ω–æ** üéâ |
| internal/server/handlers | 0% | 80%+ | ‚ùå –ö—Ä–∏—Ç–∏—á–Ω–æ |
| internal/server/jwt | 0% | 80%+ | ‚ùå –ö—Ä–∏—Ç–∏—á–Ω–æ |
| internal/client/auth | 0% | 80%+ | ‚ùå –ö—Ä–∏—Ç–∏—á–Ω–æ |
| internal/client/api | 0% | 80%+ | ‚ùå –ö—Ä–∏—Ç–∏—á–Ω–æ |
| internal/client/storage | 0% | 80%+ | ‚ùå –ö—Ä–∏—Ç–∏—á–Ω–æ |

### üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç):
1. ~~**CRDT —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è** (–§–∞–∑–∞ 5)~~ ‚úÖ **–ó–ê–í–ï–†–®–ï–ù–û!**
2. ~~**–ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö** (Credential, TextData, BinaryData, CardData)~~ ‚úÖ **–ó–ê–í–ï–†–®–ï–ù–û!**
3. ~~**–ú–∏–≥—Ä–∞—Ü–∏—è user_data —Ç–∞–±–ª–∏—Ü—ã**~~ ‚úÖ **–ó–ê–í–ï–†–®–ï–ù–û!** - —Å–æ–∑–¥–∞–Ω–∞ –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∞ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
4. ~~**DataRepository –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è**~~ ‚úÖ **–ó–ê–í–ï–†–®–ï–ù–û!** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Å CRDT conflict resolution
5. ~~**–¢–µ—Å—Ç—ã –¥–ª—è storage (–§–∞–∑–∞ 4)**~~ ‚úÖ **–ó–ê–í–ï–†–®–ï–ù–û!** - 80.3% coverage –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–æ
6. **Sync endpoints –∏ handlers** (GET/POST /api/v1/sync) - –í–´–°–û–ö–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢
7. **Middleware** (Auth, RateLimit, Logging) - –Ω—É–∂–Ω–æ –¥–ª—è sync endpoints
8. **–¢–µ—Å—Ç—ã –¥–ª—è handlers –∏ JWT** - –ø–æ–∫—Ä—ã—Ç—å 80%+
9. TLS –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
10. CLI –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏ (add, list, get, update, delete, sync)

---

## –§–∞–∑–∞ 1: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ –∏ –±–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ ‚úÖ

### 1.1 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ ‚úÖ
- [x] –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Go –º–æ–¥—É–ª—è (`go mod init github.com/iudanet/gophkeeper`)
- [x] –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:
  ```bash
  # CLI –∏ –±–∞–∑–æ–≤—ã–µ —É—Ç–∏–ª–∏—Ç—ã
  go get github.com/spf13/cobra@latest

  # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (pure Go, –±–µ–∑ CGO!)
  go get modernc.org/sqlite@latest           # SQLite –±–µ–∑ CGO ‚úÖ
  go get github.com/pressly/goose/v3@latest   # –º–∏–≥—Ä–∞—Ü–∏–∏ ‚úÖ
  go get go.etcd.io/bbolt@latest              # BoltDB –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞ ‚úÖ

  # –ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—è
  go get golang.org/x/crypto/argon2@latest    # ‚úÖ
  go get github.com/golang-jwt/jwt/v5@latest  # ‚úÖ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

  # –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
  go get github.com/stretchr/testify@latest   # ‚úÖ
  go install go.uber.org/mock/mockgen@latest  # –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –º–æ–∫–æ–≤
  ```
- [x] –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π (—Å–ª–æ–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞):
  ```
  cmd/{server,client}/                        # ‚úÖ
  internal/server/{handlers,storage,jwt}/     # ‚úÖ (middleware –ø—É—Å—Ç–∞—è)
  internal/client/{api,auth,storage}/         # ‚úÖ
  internal/{crypto,crdt,models,validation}/   # ‚úÖ (crdt –ø—É—Å—Ç–∞—è)
  pkg/api/                                    # ‚úÖ
  migrations/                                 # ‚úÖ
  docs/                                       # ‚ùå –Ω–µ—Ç
  ```
- [x] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ `.gitignore` (–±–∏–Ω–∞—Ä–Ω–∏–∫–∏, *.db, .env, coverage.out, mocks/)
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ golangci-lint –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- [x] –°–æ–∑–¥–∞–Ω–∏–µ Makefile —Å –∫–æ–º–∞–Ω–¥–∞–º–∏ build, test, lint, generate-mocks

### 1.2 –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–∞ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ ‚úÖ
- [x] –°–æ–∑–¥–∞–Ω–∏–µ `cmd/server/main.go`:
  - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è slog logger (JSON handler –¥–ª—è production) ‚úÖ
  - Graceful shutdown —Å context ‚úÖ
  - –ß—Ç–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (—á–µ—Ä–µ–∑ —Ñ–ª–∞–≥–∏) ‚úÖ
- [x] –°–æ–∑–¥–∞–Ω–∏–µ `cmd/client/main.go`:
  - –ë–∞–∑–æ–≤—ã–π CLI (–±–µ–∑ Cobra, –Ω–∞ —Ñ–ª–∞–≥–∞—Ö) ‚úÖ
  - –ö–æ–º–∞–Ω–¥—ã register –∏ login ‚úÖ
  - slog logger –ø–æ–∫–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–ª–∏–µ–Ω—Ç–µ
- [x] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (buildVersion, buildDate —á–µ—Ä–µ–∑ ldflags) ‚úÖ
- [x] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è `--version` —Ñ–ª–∞–≥–∞ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞ ‚úÖ
- [ ] –ë–∞–∑–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (config.yaml, env variables) - —Ç–æ–ª—å–∫–æ —Ñ–ª–∞–≥–∏
- [x] –°–æ–∑–¥–∞–Ω–∏–µ helper —Ñ—É–Ω–∫—Ü–∏–π –¥–ª—è slog:
  - `initLogger(level slog.Level)` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è ‚úÖ
  - [ ] Middleware –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è HTTP –∑–∞–ø—Ä–æ—Å–æ–≤ - middleware –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –ø—É—Å—Ç–∞—è
  - [ ] Context-aware –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

## –§–∞–∑–∞ 2: –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã

### 2.1 –í–∞–ª–∏–¥–∞—Ü–∏—è (`internal/validation/`) ‚úÖ
- [x] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è `ValidateUsername()` - regex `^[a-zA-Z0-9_]{3,32}$` ‚úÖ
- [ ] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è `ValidatePassword()` - –º–∏–Ω–∏–º—É–º 12 —Å–∏–º–≤–æ–ª–æ–≤ (–µ—Å—Ç—å –≤ auth, –Ω–æ –Ω–µ –≤—ã–¥–µ–ª–µ–Ω–æ)
- [x] **–¢–µ—Å—Ç—ã (testify + table-driven):** ‚úÖ
  - [x] TestValidateUsername - —Ç–∞–±–ª–∏—á–Ω—ã–π —Ç–µ—Å—Ç —Å 6+ cases ‚úÖ
  - [ ] TestValidatePassword - —Ç–∞–±–ª–∏—á–Ω—ã–π —Ç–µ—Å—Ç —Å 5+ cases
  - [x] –ó–∞–ø—É—Å–∫: `go test -v ./internal/validation/` ‚úÖ
  - [x] Coverage check: **100% coverage** ‚úÖ ‚úÖ ‚úÖ

### 2.2 –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö (`internal/models/`, `pkg/api/`) ‚úÖ (–ó–ê–í–ï–†–®–ï–ù–û!)
- [x] –°—Ç—Ä—É–∫—Ç—É—Ä–∞ `User` (–≤ internal/models/user.go) ‚úÖ
- [x] –°—Ç—Ä—É–∫—Ç—É—Ä–∞ `RegisterRequest/Response`, `LoginRequest/Response` (–≤ pkg/api/auth.go) ‚úÖ
- [x] –°—Ç—Ä—É–∫—Ç—É—Ä–∞ `Credential` (name, login, password, url, notes, metadata) ‚úÖ
- [x] –°—Ç—Ä—É–∫—Ç—É—Ä–∞ `TextData` (name, content, metadata) ‚úÖ
- [x] –°—Ç—Ä—É–∫—Ç—É—Ä–∞ `BinaryData` (name, data, mime_type, metadata) ‚úÖ
- [x] –°—Ç—Ä—É–∫—Ç—É—Ä–∞ `CardData` (name, number, holder, expiry, cvv, pin, metadata) ‚úÖ
- [x] –°—Ç—Ä—É–∫—Ç—É—Ä–∞ `Metadata` (tags, category, favorite, notes, custom_fields) ‚úÖ
- [x] –°—Ç—Ä—É–∫—Ç—É—Ä–∞ `CRDTEntry` (id, user_id, type, data, version, timestamp, node_id, deleted) ‚úÖ
- [x] JSON —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è/–¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö ‚úÖ
- [x] –¢–µ—Å—Ç—ã –¥–ª—è –º–æ–¥–µ–ª–µ–π (11 test cases, –≤—Å–µ –ø—Ä–æ—Ö–æ–¥—è—Ç) ‚úÖ

## –§–∞–∑–∞ 3: –ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—è ‚úÖ (core crypto done, TLS pending)

### 3.1 Key Derivation (`internal/crypto/keys.go`) ‚úÖ
- [x] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è `DeriveKeys()` —Å Argon2id ‚úÖ
  - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: 1 iteration, 64MB memory, 4 parallelism, 32 bytes output ‚úÖ
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è auth_key (context string: "auth") ‚úÖ
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è encryption_key (context string: "encrypt") ‚úÖ
- [x] –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ public_salt (32 bytes) ‚úÖ
- [x] –°—Ç—Ä—É–∫—Ç—É—Ä–∞ `Keys` —Å –ø–æ–ª—è–º–∏ AuthKey, EncryptionKey ‚úÖ
- [x] –¢–µ—Å—Ç—ã: –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ input ‚Üí –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ keys, —Ä–∞–∑–Ω—ã–µ salt ‚Üí —Ä–∞–∑–Ω—ã–µ keys ‚úÖ

### 3.2 –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ/–¥–µ—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ (`internal/crypto/cipher.go`) ‚úÖ
- [x] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è `Encrypt()` —Å AES-256-GCM ‚úÖ
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ nonce (12 bytes) ‚úÖ
  - –§–æ—Ä–º–∞—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞: nonce + ciphertext + auth_tag ‚úÖ
  - Base64 –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ ‚úÖ
- [x] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è `Decrypt()` —Å AES-256-GCM ‚úÖ
  - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ nonce –∏–∑ –ø–µ—Ä–≤—ã—Ö 12 bytes ‚úÖ
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ auth tag ‚úÖ
  - –í–æ–∑–≤—Ä–∞—Ç plaintext ‚úÖ
- [x] –¢–µ—Å—Ç—ã: encrypt ‚Üí decrypt = –∏—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –Ω–µ–≤–µ—Ä–Ω—ã–π –∫–ª—é—á ‚Üí –æ—à–∏–±–∫–∞ ‚úÖ

### 3.3 –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ (`internal/crypto/hash.go`) ‚úÖ
- [x] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è SHA256 —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è auth_key ‚úÖ
- [x] –¢–µ—Å—Ç—ã –¥–ª—è —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è ‚úÖ
- [x] **Coverage: 90.1%** ‚úÖ ‚úÖ

### 3.4 TLS –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è ‚ùå (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
- [ ] **–°–µ—Ä–≤–µ—Ä - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–∞–ª–∏–¥–Ω—ã—Ö —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤:**
  - [ ] –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è cert_file –∏ key_file ‚ùå
  - [ ] TLS 1.3 –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è ‚ùå
  - [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é Let's Encrypt ‚ùå
  - [ ] –ü—Ä–∏–º–µ—Ä —Å certbot –≤ README ‚ùå
- [ ] **–ö–ª–∏–µ–Ω—Ç - —Ä–∞–±–æ—Ç–∞ —Å –≤–∞–ª–∏–¥–Ω—ã–º–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏:**
  - [ ] –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: –¥–æ–≤–µ—Ä–∏–µ —Å–∏—Å—Ç–µ–º–Ω—ã–º CA (–±–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏) ‚ùå
  - [ ] –û–ø—Ü–∏—è `--ca-cert` –¥–ª—è –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ CA ‚ùå
  - [ ] –û–ø—Ü–∏—è `--insecure` –¥–ª—è dev (—Å WARNING –≤ –ª–æ–≥–∞—Ö) ‚ùå
  - [ ] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è `NewHTTPClient(cfg Config)` —Å TLS config ‚ùå
- [ ] **Development —Ä–µ–∂–∏–º:**
  - [ ] Makefile target –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω–æ–≥–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ ‚ùå
  - [ ] –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ `--insecure` ‚ùå
- [ ] **–¢–µ—Å—Ç—ã:**
  - [ ] Test TLS connection —Å –≤–∞–ª–∏–¥–Ω—ã–º —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–º (mock) ‚ùå
  - [ ] Test insecure mode —Ä–∞–±–æ—Ç–∞–µ—Ç ‚ùå

## –§–∞–∑–∞ 4: –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö ‚ö†Ô∏è (—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –±–µ–∑ —Ç–µ—Å—Ç–æ–≤)

### 4.1 –°–µ—Ä–≤–µ—Ä–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ - SQLite + goose –º–∏–≥—Ä–∞—Ü–∏–∏ (`internal/server/storage/`) ‚ö†Ô∏è
- [x] **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è SQLite —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏:** ‚úÖ
  - [x] –°–æ–∑–¥–∞—Ç—å `internal/server/storage/sqlite/storage.go` ‚úÖ
    - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω OpenDB —Å DSN –∏ pragma –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ ‚úÖ
  - ‚ö†Ô∏è **–í–ê–ñ–ù–û: MaxOpenConns = 1** - –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é
  - ‚ö†Ô∏è **WAL mode** - –≤–∏–¥–Ω—ã —Ñ–∞–π–ª—ã .db-wal, –Ω–æ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–¥
  - ‚ö†Ô∏è **busy_timeout = 5000ms** - –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å
  - ‚ö†Ô∏è **foreign_keys = ON** - –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å
- [x] **–°–æ–∑–¥–∞–Ω–∏–µ goose –º–∏–≥—Ä–∞—Ü–∏–π (migrations/*.sql):** ‚úÖ
  - [x] `00001_create_users_table.sql` - —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã users ‚úÖ
  - [x] `00002_create_refresh_tokens_table.sql` - —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã tokens ‚úÖ
  - [x] `00003_create_user_data_table.sql` - —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã user_data –¥–ª—è CRDT –¥–∞–Ω–Ω—ã—Ö ‚úÖ
- [x] **–í—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π –≤ –±–∏–Ω–∞—Ä–Ω–∏–∫:** ‚úÖ
  - [x] –ú–∏–≥—Ä–∞—Ü–∏–∏ –≤—Å—Ç—Ä–æ–µ–Ω—ã —á–µ—Ä–µ–∑ `//go:embed` ‚úÖ
  - [x] `RunMigrations()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–µ—Ä–≤–µ—Ä–∞ ‚úÖ
- [x] **–¢–µ—Å—Ç—ã:** ‚úÖ
  - [ ] –¢–µ—Å—Ç –º–∏–≥—Ä–∞—Ü–∏–π: –ø—Ä–æ–≤–µ—Ä–∫–∞ Up/Down ‚ùå
  - [ ] –¢–µ—Å—Ç —á—Ç–æ WAL —Ä–µ–∂–∏–º –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω: `PRAGMA journal_mode;` ‚ùå
  - [ ] –¢–µ—Å—Ç connection pool: db.Stats().OpenConnections <= 1 ‚ùå
  - [x] **Coverage: 80.3%** ‚úÖ **–î–û–°–¢–ò–ì–ù–£–¢–û!**
- [x] **Storage Layer - –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã (–¥–ª—è gomock):** ‚úÖ
  - [x] `UserRepository` interface –æ–ø—Ä–µ–¥–µ–ª–µ–Ω ‚úÖ
  - [x] `TokenRepository` interface –æ–ø—Ä–µ–¥–µ–ª–µ–Ω ‚úÖ
  - [x] `DataRepository` interface –æ–ø—Ä–µ–¥–µ–ª–µ–Ω ‚úÖ
  - [ ] –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º–æ–∫–æ–≤: `make generate-mocks` - –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ ‚ùå
- [x] **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è SQLite storage (—Ä–µ–∞–ª—å–Ω–∞—è –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è):** ‚úÖ
  - [x] `userStorage` - –∏–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä—É–µ—Ç `UserRepository` ‚úÖ
  - [x] `tokenStorage` - –∏–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä—É–µ—Ç `TokenRepository` ‚úÖ
  - [x] `dataStorage` - –∏–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä—É–µ—Ç `DataRepository` ‚úÖ
- [x] **–¢–µ—Å—Ç—ã –¥–ª—è storage (—Å in-memory SQLite):** ‚úÖ
  - [x] TestUserStorage_* - –≤—Å–µ –º–µ—Ç–æ–¥—ã ‚úÖ
    - [x] TestUserStorage_CreateUser (2 test cases) ‚úÖ
    - [x] TestUserStorage_CreateUser_DuplicateUsername ‚úÖ
    - [x] TestUserStorage_GetUserByUsername (2 test cases) ‚úÖ
    - [x] TestUserStorage_GetUserByID (2 test cases) ‚úÖ
    - [x] TestUserStorage_UpdateUser (2 test cases) ‚úÖ
    - [x] TestUserStorage_DeleteUser (2 test cases) ‚úÖ
    - [x] TestUserStorage_UpdateLastLogin (2 test cases) ‚úÖ
  - [x] TestTokenStorage_* - –≤—Å–µ –º–µ—Ç–æ–¥—ã ‚úÖ
    - [x] TestTokenStorage_SaveRefreshToken (2 test cases) ‚úÖ
    - [x] TestTokenStorage_GetRefreshToken (2 test cases) ‚úÖ
    - [x] TestTokenStorage_GetUserTokens (3 test cases) ‚úÖ
    - [x] TestTokenStorage_GetUserTokens_OrderedByCreatedAt ‚úÖ
    - [x] TestTokenStorage_DeleteRefreshToken (2 test cases) ‚úÖ
    - [x] TestTokenStorage_DeleteUserTokens (2 test cases) ‚úÖ
    - [x] TestTokenStorage_DeleteExpiredTokens ‚úÖ
    - [x] TestTokenStorage_DeleteExpiredTokens_NoExpired ‚úÖ
  - [x] TestDataStorage_* - —Ç–µ—Å—Ç—ã CRUD –æ–ø–µ—Ä–∞—Ü–∏–π ‚úÖ
    - [x] TestDataStorage_SaveEntry_Create (3 test cases) ‚úÖ
    - [x] TestDataStorage_SaveEntry_CRDT_Conflict (4 test cases) ‚úÖ
    - [x] TestDataStorage_GetUserEntries ‚úÖ
    - [x] TestDataStorage_GetUserEntriesSince (4 test cases) ‚úÖ
    - [x] TestDataStorage_GetUserEntriesByType (3 test cases) ‚úÖ
    - [x] TestDataStorage_DeleteEntry ‚úÖ
    - [x] TestDataStorage_GetEntry_NotFound ‚úÖ
    - [x] TestDataStorage_DeleteEntry_NotFound ‚úÖ
  - [x] **Coverage: 80.3%** ‚úÖ **–î–û–°–¢–ò–ì–ù–£–¢–û!** (—Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ >80%)

### 4.2 –ö–ª–∏–µ–Ω—Ç—Å–∫–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ - BoltDB (`internal/client/storage/`) ‚ö†Ô∏è
- [x] –°–æ–∑–¥–∞–Ω–∏–µ buckets —Å—Ç—Ä—É–∫—Ç—É—Ä—ã: ‚úÖ
  - `auth/` - username, public_salt, user_id, access_token, refresh_token, token_expiry ‚úÖ
  - `secrets/` - –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ ‚úÖ
  - ‚ö†Ô∏è `crdt/` - CRDT –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (–≤–µ—Ä–æ—è—Ç–Ω–æ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
  - ‚ö†Ô∏è `meta/` - last_sync timestamp (–≤–µ—Ä–æ—è—Ç–Ω–æ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
- [x] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è `Open(path)` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è BoltDB, —Å–æ–∑–¥–∞–Ω–∏–µ buckets ‚úÖ
- [x] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è `AuthStorage`: ‚ö†Ô∏è
  - [x] –ú–µ—Ç–æ–¥—ã –¥–ª—è auth bucket —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã ‚úÖ
  - ‚ö†Ô∏è –ù–æ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º (—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤, etc)
- [ ] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è `DataStorage` (–¥–ª—è secrets): ‚ö†Ô∏è
  - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ `boltdb/secrets.go`, –Ω–æ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å
- [ ] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è `CRDTStorage`: ‚ùå
  - [ ] `SaveVectorClock(clock)` ‚ùå
  - [ ] `GetVectorClock()` ‚Üí clock ‚ùå
  - [ ] `SaveLastSync(timestamp)` ‚ùå
  - [ ] `GetLastSync()` ‚Üí timestamp ‚ùå
- [ ] **–¢–µ—Å—Ç—ã –¥–ª—è BoltDB storage:** ‚ùå
  - [ ] **Coverage: 0%** (—Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ >80%) ‚ùå ‚ùå ‚ùå

## –§–∞–∑–∞ 5: CRDT –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ ‚úÖ (–ó–ê–í–ï–†–®–ï–ù–û!)

### 5.1 –†–µ–∞–ª–∏–∑–∞—Ü–∏—è Lamport Clock (`internal/crdt/clock.go`) ‚úÖ
- [x] –°—Ç—Ä—É–∫—Ç—É—Ä–∞ `LamportClock` (Counter, NodeID) ‚úÖ
- [x] –ú–µ—Ç–æ–¥ `Tick()` - –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç —Å—á–µ—Ç—á–∏–∫–∞, –≤–æ–∑–≤—Ä–∞—Ç –Ω–æ–≤–æ–≥–æ timestamp ‚úÖ
- [x] –ú–µ—Ç–æ–¥ `Update(remoteTimestamp)` - —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å —É–¥–∞–ª–µ–Ω–Ω—ã–º timestamp ‚úÖ
- [x] –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ `NodeID` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞ (UUID) ‚úÖ
- [x] –ú–µ—Ç–æ–¥ `GetTimestamp()`, `GetNodeID()`, `SetTimestamp()` ‚úÖ
- [x] –ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (sync.Mutex) ‚úÖ
- [x] **–¢–µ—Å—Ç—ã: –º–æ–Ω–æ—Ç–æ–Ω–Ω–æ—Å—Ç—å, –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** ‚úÖ
  - [x] TestLamportClock_Tick - —Ç–∞–±–ª–∏—á–Ω—ã–µ —Ç–µ—Å—Ç—ã ‚úÖ
  - [x] TestLamportClock_Update - —Ç–∞–±–ª–∏—á–Ω—ã–µ —Ç–µ—Å—Ç—ã ‚úÖ
  - [x] TestLamportClock_ConcurrentTick - —Ç–µ—Å—Ç –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ ‚úÖ
  - [x] TestLamportClock_ConcurrentUpdate - —Ç–µ—Å—Ç –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ ‚úÖ
  - [x] **Coverage: 100%** ‚úÖ ‚úÖ ‚úÖ

### 5.2 –†–µ–∞–ª–∏–∑–∞—Ü–∏—è LWW-Element-Set CRDT (`internal/crdt/lww.go`) ‚úÖ
- [x] –°—Ç—Ä—É–∫—Ç—É—Ä–∞ `LWWSet` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å timestamp + node_id ‚úÖ
- [x] –ú–µ—Ç–æ–¥ `Add(entry)` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ ‚úÖ
- [x] –ú–µ—Ç–æ–¥ `Update(entry)` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ (–∞–ª–∏–∞—Å –¥–ª—è Add) ‚úÖ
- [x] –ú–µ—Ç–æ–¥ `Remove(entry)` - —É–¥–∞–ª–µ–Ω–∏–µ (soft delete) ‚úÖ
- [x] –ú–µ—Ç–æ–¥ `Merge(other)` - —Å–ª–∏—è–Ω–∏–µ –¥–≤—É—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π: ‚úÖ
  - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ timestamp (–±–æ–ª—å—à–∏–π –≤—ã–∏–≥—Ä—ã–≤–∞–µ—Ç) ‚úÖ
  - –ü—Ä–∏ —Ä–∞–≤–Ω—ã—Ö timestamp - —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ nodeID (–ª–µ–∫—Å–∏–∫–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏) ‚úÖ
- [x] –ú–µ—Ç–æ–¥ `Get(id)` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–∞ ‚úÖ
- [x] –ú–µ—Ç–æ–¥—ã `GetAll()`, `GetAllIncludingDeleted()`, `Contains()`, `Size()`, `Clear()` ‚úÖ
- [x] –ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (sync.RWMutex) ‚úÖ
- [x] **–¢–µ—Å—Ç—ã:** ‚úÖ
  - [x] –ö–æ–Ω—Ñ–ª–∏–∫—Ç: –¥–≤–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ–¥–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ ‚Üí –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ ‚úÖ
  - [x] –ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å merge: merge(a, b) = merge(merge(a, b), b) ‚úÖ
  - [x] –ö–æ–º–º—É—Ç–∞—Ç–∏–≤–Ω–æ—Å—Ç—å: merge(a, b) = merge(b, a) ‚úÖ
  - [x] –¢–µ—Å—Ç—ã –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (ConcurrentAdd, ConcurrentMerge) ‚úÖ
  - [x] **Coverage: 94.7%** ‚úÖ ‚úÖ ‚úÖ

### 5.3 –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è CRDT —Å –º–æ–¥–µ–ª—è–º–∏ –¥–∞–Ω–Ω—ã—Ö ‚úÖ
- [x] –ú–æ–¥–µ–ª—å `CRDTEntry` –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö (credential, text, binary, card) ‚úÖ
  - –ü–æ–ª—è: ID, UserID, Type, Data, Metadata, Version, Timestamp, NodeID, Deleted ‚úÖ
  - –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã DataType* –¥–ª—è —Ç–∏–ø–æ–≤ ‚úÖ
- [x] –ú–µ—Ç–æ–¥ `IsNewerThan(other)` –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –∑–∞–ø–∏—Å–µ–π ‚úÖ
- [x] –ú–µ—Ç–æ–¥ `Clone()` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≥–ª—É–±–æ–∫–æ–π –∫–æ–ø–∏–∏ ‚úÖ
- [x] –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π —á–µ—Ä–µ–∑ –ø–æ–ª–µ Version ‚úÖ
- [ ] –ú–µ—Ç–æ–¥—ã ToEntry/FromEntry –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö (–±—É–¥—É—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –º–æ–¥–µ–ª–µ–π Credential, Text, Binary, Card)

**‚úÖ CRDT –†–ï–ê–õ–ò–ó–û–í–ê–ù! –ö–ª—é—á–µ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —Å –æ—Ç–ª–∏—á–Ω—ã–º coverage (94.7%+)**

**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:**
- ‚úÖ Lamport Clock –¥–ª—è —É–ø–æ—Ä—è–¥–æ—á–∏–≤–∞–Ω–∏—è —Å–æ–±—ã—Ç–∏–π (100% coverage)
- ‚úÖ LWW-Element-Set –¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ (94.7% coverage)
- ‚úÖ –ú–æ–¥–µ–ª—å CRDTEntry –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ü–æ–ª–Ω–∞—è –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- ‚úÖ –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ —Ç–µ—Å—Ç—ã (—Ç–∞–±–ª–∏—á–Ω—ã–µ, –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–µ, —Å–≤–æ–π—Å—Ç–≤–∞ CRDT)

## –§–∞–∑–∞ 6: API –∏ –ø—Ä–æ—Ç–æ–∫–æ–ª –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è (REST) ‚ö†Ô∏è (—á–∞—Å—Ç–∏—á–Ω–æ)

### 6.1 API —Ç–∏–ø—ã –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (`pkg/api/`) ‚ö†Ô∏è
- [x] Request/Response —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–ª—è auth endpoints ‚úÖ
- [x] `RegisterRequest` (username, auth_key_hash, public_salt) ‚úÖ
- [x] `LoginRequest` (username, auth_key_hash) ‚úÖ
- [x] `TokenResponse` (access_token, refresh_token, expires_in) ‚úÖ
- [ ] `SyncRequest` (entries []CRDTEntry) ‚ùå
- [ ] `SyncResponse` (entries []CRDTEntry, conflicts, current_timestamp) ‚ùå
- [x] –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è JSON ‚úÖ

### 6.2 –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã API (REST) ‚ö†Ô∏è
- [x] `POST /api/v1/auth/register` - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚úÖ
- [x] `GET /api/v1/auth/salt/{username}` - –ø–æ–ª—É—á–µ–Ω–∏–µ public_salt ‚úÖ
- [x] `POST /api/v1/auth/login` - –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è, –≤–æ–∑–≤—Ä–∞—Ç —Ç–æ–∫–µ–Ω–æ–≤ ‚úÖ
- [x] `POST /api/v1/auth/refresh` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ access —Ç–æ–∫–µ–Ω–∞ ‚úÖ
- [x] `POST /api/v1/auth/logout` - —É–¥–∞–ª–µ–Ω–∏–µ refresh —Ç–æ–∫–µ–Ω–∞ ‚úÖ
- [ ] `GET /api/v1/sync?since=<timestamp>` - pull –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å —Å–µ—Ä–≤–µ—Ä–∞ ‚ùå
- [ ] `POST /api/v1/sync` - push –∏–∑–º–µ–Ω–µ–Ω–∏–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä ‚ùå
- [x] `GET /api/v1/health` - health check (–¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞) ‚úÖ

### 6.3 –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) ‚ùå
- [ ] OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è (swagger.yaml) ‚ùå
- [ ] –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤/–æ—Ç–≤–µ—Ç–æ–≤ ‚ùå
- [ ] –û–ø–∏—Å–∞–Ω–∏–µ –∫–æ–¥–æ–≤ –æ—à–∏–±–æ–∫ ‚ùå

## –§–∞–∑–∞ 7: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è ‚ö†Ô∏è (handlers done, middleware missing, no tests)

### 7.1 –°–µ—Ä–≤–µ—Ä–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (`internal/server/jwt/`, `internal/server/handlers/`) ‚ö†Ô∏è
- [x] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è JWT –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ (`internal/server/jwt/jwt.go`): ‚úÖ
  - Access token (15 –º–∏–Ω—É—Ç TTL) ‚úÖ
  - Claims: user_id, username, issued_at, expires_at ‚úÖ
- [x] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è refresh token: ‚úÖ
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ —Ç–æ–∫–µ–Ω–∞ ‚úÖ
  - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î ‚úÖ
  - TTL: 30 –¥–Ω–µ–π ‚úÖ
- [x] Handler `Register` (`internal/server/handlers/auth.go`): ‚úÖ
  - –í–∞–ª–∏–¥–∞—Ü–∏—è username (regex, —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å) ‚úÖ
  - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ user + auth_key_hash + public_salt ‚úÖ
  - –í–æ–∑–≤—Ä–∞—Ç user_id ‚úÖ
- [x] Handler `GetSalt`: ‚úÖ
  - –ü–æ–ª—É—á–µ–Ω–∏–µ public_salt –ø–æ username ‚úÖ
  - –í–æ–∑–≤—Ä–∞—Ç 404 –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω ‚úÖ
- [x] Handler `Login`: ‚úÖ
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ auth_key_hash ‚úÖ
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è access + refresh tokens ‚úÖ
  - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ refresh token –≤ –ë–î ‚úÖ
  - –í–æ–∑–≤—Ä–∞—Ç —Ç–æ–∫–µ–Ω–æ–≤ ‚úÖ
- [x] Handler `RefreshToken`: ‚úÖ
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ refresh token ‚úÖ
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–π –ø–∞—Ä—ã —Ç–æ–∫–µ–Ω–æ–≤ ‚úÖ
  - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ refresh token –≤ –ë–î ‚úÖ
- [x] Handler `Logout`: ‚úÖ
  - –£–¥–∞–ª–µ–Ω–∏–µ refresh token –∏–∑ –ë–î ‚úÖ
- [ ] **–¢–µ—Å—Ç—ã –¥–ª—è –≤—Å–µ—Ö handlers:** ‚ùå
  - [ ] **Coverage: 0%** ‚ùå ‚ùå ‚ùå

### 7.2 Middleware (`internal/server/middleware/`) ‚ùå (–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –ø—É—Å—Ç–∞—è!)
- [ ] `AuthMiddleware` - –ø—Ä–æ–≤–µ—Ä–∫–∞ JWT access token –≤ header Authorization ‚ùå
- [ ] `RateLimitMiddleware`: ‚ùå
  - Login: 5 –ø–æ–ø—ã—Ç–æ–∫ / 15 –º–∏–Ω—É—Ç ‚ùå
  - Register: 3 –ø–æ–ø—ã—Ç–∫–∏ / 1 —á–∞—Å ‚ùå
  - GetSalt: 10 –∑–∞–ø—Ä–æ—Å–æ–≤ / 1 –º–∏–Ω—É—Ç–∞ ‚ùå
- [ ] `LoggingMiddleware` - –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ (–±–µ–∑ sensitive –¥–∞–Ω–Ω—ã—Ö) ‚ùå
- [ ] `RecoveryMiddleware` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø–∞–Ω–∏–∫ ‚ùå
- [ ] `CORSMiddleware` (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ –¥–ª—è –±—É–¥—É—â–µ–≥–æ web –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞) ‚ùå
- [ ] –¢–µ—Å—Ç—ã –¥–ª—è middleware ‚ùå

### 7.3 –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (`internal/client/auth/`) ‚ö†Ô∏è
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ `internal/client/auth/auth.go` ‚úÖ
  - [x] Register(username, masterPassword) ‚úÖ
  - [x] Login(username, masterPassword) ‚úÖ
- [ ] –§—É–Ω–∫—Ü–∏—è `GetMasterPassword()`: ‚ö†Ô∏è
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π —Å—Ä–µ–¥—ã `GOPHKEEPER_MASTER_PASSWORD` - –≤–æ–∑–º–æ–∂–Ω–æ –µ—Å—Ç—å
  - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –∑–∞–ø—Ä–æ—Å —á–µ—Ä–µ–∑ `term.ReadPassword()` - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ main.go, –Ω–æ –Ω–µ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
- [ ] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ (–∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã—Ö) –ª–æ–∫–∞–ª—å–Ω–æ - –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å ‚ö†Ô∏è
- [ ] –§—É–Ω–∫—Ü–∏—è `Logout()`: ‚ùå
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ access token –ø—Ä–∏ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ (—á–µ—Ä–µ–∑ refresh token) ‚ùå
- [ ] **–¢–µ—Å—Ç—ã –¥–ª—è auth —Ñ—É–Ω–∫—Ü–∏–π:** ‚ùå
  - [ ] **Coverage: 0%** ‚ùå ‚ùå ‚ùå

## –§–∞–∑–∞ 8: –°–µ—Ä–≤–µ—Ä–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è ‚ö†Ô∏è (partial)

### 8.1 HTTP —Å–µ—Ä–≤–µ—Ä (`cmd/server/main.go`, `internal/server/`) ‚ö†Ô∏è
- [x] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ HTTP —Å–µ—Ä–≤–µ—Ä–∞ —Å **net/http.ServeMux** (Go 1.22+) ‚úÖ
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ TLS (cert, key –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Let's Encrypt) ‚ùå
- [x] –†–æ—É—Ç–∏–Ω–≥ —Å –º–µ—Ç–æ–¥–∞–º–∏: ‚ö†Ô∏è
  ```
  POST   /api/v1/auth/register     ‚úÖ
  GET    /api/v1/auth/salt/:username  ‚úÖ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç {username})
  POST   /api/v1/auth/login        ‚úÖ
  POST   /api/v1/auth/refresh      ‚úÖ
  POST   /api/v1/auth/logout       ‚úÖ
  GET    /api/v1/sync              ‚ùå –ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–û
  POST   /api/v1/sync              ‚ùå –ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–û
  GET    /api/v1/health            ‚úÖ
  ```
- [ ] –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ middleware (–≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ): ‚ùå
  - [ ] Recovery ‚ùå
  - [ ] Logging ‚ùå
  - [ ] RateLimit ‚ùå
  - [ ] Auth (–¥–ª—è –∑–∞—â–∏—â–µ–Ω–Ω—ã—Ö endpoints) ‚ùå
- [x] Graceful shutdown (context, signal handling) ‚úÖ
- [ ] –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ config.yaml + env variables - —Ç–æ–ª—å–∫–æ —Ñ–ª–∞–≥–∏ ‚ö†Ô∏è
- [x] –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (slog) ‚úÖ

### 8.2 Handlers –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ (`internal/server/handlers/sync.go`) ‚ùå
- [ ] Handler `GetSync`: ‚ùå
  - –ü–æ–ª—É—á–µ–Ω–∏–µ `since` timestamp –∏–∑ query params ‚ùå
  - –ü–æ–ª—É—á–µ–Ω–∏–µ user_id –∏–∑ JWT ‚ùå
  - –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö entries –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ—Å–ª–µ `since` ‚ùå
  - –í–æ–∑–≤—Ä–∞—Ç entries + current_timestamp ‚ùå
- [ ] Handler `PostSync`: ‚ùå
  - –ü–æ–ª—É—á–µ–Ω–∏–µ entries –∏–∑ request body ‚ùå
  - –ü–æ–ª—É—á–µ–Ω–∏–µ user_id –∏–∑ JWT ‚ùå
  - –î–ª—è –∫–∞–∂–¥–æ–≥–æ entry: ‚ùå
    - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –≤ –ë–î ‚ùå
    - –ï—Å–ª–∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç - conflict resolution (CRDT merge) ‚ùå
    - –ï—Å–ª–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç - insert ‚ùå
  - –í–æ–∑–≤—Ä–∞—Ç conflicts (–µ—Å–ª–∏ –±—ã–ª–∏) + synced count ‚ùå
- [ ] –¢–µ—Å—Ç—ã –¥–ª—è sync handlers ‚ùå

### 8.3 –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ deployment ‚ö†Ô∏è
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ config.yaml —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏: ‚ö†Ô∏è
  - –°–µ–π—á–∞—Å –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ñ–ª–∞–≥–∏ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
- [ ] Dockerfile –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞ ‚ùå
- [ ] docker-compose –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ ‚ùå
- [x] Healthcheck endpoint –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ ‚úÖ

## –§–∞–∑–∞ 9: –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è ‚ö†Ô∏è (basic auth only, no data management)

### 9.1 CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å - –ë–∞–∑–æ–≤—ã–π (`cmd/client/main.go`) ‚ö†Ô∏è
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Cobra —Å –ø–æ–¥–∫–æ–º–∞–Ω–¥–∞–º–∏ ‚ùå (–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø—Ä–æ—Å—Ç—ã–µ —Ñ–ª–∞–≥–∏)
- [x] –ö–æ–º–∞–Ω–¥–∞ `register`: ‚úÖ
  - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –≤–≤–æ–¥ username –∏ master password ‚úÖ
  - –í—ã–∑–æ–≤ auth.Register() ‚úÖ
- [x] –ö–æ–º–∞–Ω–¥–∞ `login`: ‚úÖ
  - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –≤–≤–æ–¥ username –∏ master password ‚úÖ
  - –í—ã–∑–æ–≤ auth.Login() ‚úÖ
- [ ] –ö–æ–º–∞–Ω–¥–∞ `logout`: ‚ùå
- [ ] –ö–æ–º–∞–Ω–¥–∞ `status`: ‚ùå
- [ ] –ö–æ–º–∞–Ω–¥–∞ `add`: ‚ùå
  - –ü–æ–¥–∫–æ–º–∞–Ω–¥—ã: `credential`, `text`, `binary`, `card` ‚ùå
- [ ] –ö–æ–º–∞–Ω–¥–∞ `list`: ‚ùå
- [ ] –ö–æ–º–∞–Ω–¥–∞ `get <id>`: ‚ùå
- [ ] –ö–æ–º–∞–Ω–¥–∞ `update <id>`: ‚ùå
- [ ] –ö–æ–º–∞–Ω–¥–∞ `delete <id>`: ‚ùå
- [ ] –ö–æ–º–∞–Ω–¥–∞ `search <query>`: ‚ùå
- [ ] –ö–æ–º–∞–Ω–¥–∞ `sync`: ‚ùå
- [ ] –ö–æ–º–∞–Ω–¥–∞ `config`: ‚ùå
- [x] **–ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ–ª–∞–≥–∏:** ‚ö†Ô∏è
  - [x] `--version` - –≤—ã–≤–æ–¥ buildVersion –∏ buildDate ‚úÖ
  - [x] `--server <url>` - –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å URL —Å–µ—Ä–≤–µ—Ä–∞ ‚úÖ
  - [ ] `--insecure` - –æ—Ç–∫–ª—é—á–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É TLS ‚ùå
  - [ ] `--ca-cert <path>` - —É–∫–∞–∑–∞—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–π CA —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç ‚ùå

### 9.2 HTTP –∫–ª–∏–µ–Ω—Ç (`internal/client/api/`) ‚ö†Ô∏è
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤ `internal/client/api/client.go` ‚úÖ
- [ ] **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–∞:** ‚ö†Ô∏è
  - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—Å—Ç–∞—è, –±–µ–∑ TLS –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- [x] **API –º–µ—Ç–æ–¥—ã:** ‚ö†Ô∏è
  - [x] `Register(username, authKeyHash, publicSalt)` ‚Üí user_id ‚úÖ
  - [x] `GetSalt(username)` ‚Üí public_salt ‚úÖ
  - [x] `Login(username, authKeyHash)` ‚Üí tokens ‚úÖ
  - [ ] `RefreshToken(refreshToken)` ‚Üí new tokens ‚ùå
  - [ ] `Logout(accessToken)` ‚ùå
  - [ ] `GetSync(accessToken, since)` ‚Üí entries ‚ùå
  - [ ] `PostSync(accessToken, entries)` ‚Üí conflicts ‚ùå
- [ ] **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞:** ‚ùå
  - [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ Authorization header ‚ùå
  - [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π refresh –ø—Ä–∏ 401 –æ—à–∏–±–∫–µ ‚ùå
  - [ ] User-friendly –æ—à–∏–±–∫–∏ –¥–ª—è TLS –ø—Ä–æ–±–ª–µ–º ‚ùå
- [ ] **–¢–µ—Å—Ç—ã:** ‚ùå
  - [ ] **Coverage: 0%** ‚ùå ‚ùå ‚ùå

### 9.3 –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è (`internal/client/sync/`) ‚ùå
- [ ] –§—É–Ω–∫—Ü–∏—è `Sync()`: ‚ùå
  - –ü–æ–ª—É—á–µ–Ω–∏–µ last_sync timestamp ‚ùå
  - Pull: GET /api/v1/sync?since=<timestamp> ‚ùå
  - Merge –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö entries —Å –ª–æ–∫–∞–ª—å–Ω—ã–º–∏ (CRDT) ‚ùå
  - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ BoltDB ‚ùå
  - –°–±–æ—Ä –ª–æ–∫–∞–ª—å–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π (–Ω–æ–≤—ã–µ/–∏–∑–º–µ–Ω–µ–Ω–Ω—ã–µ) ‚ùå
  - Push: POST /api/v1/sync —Å –ª–æ–∫–∞–ª—å–Ω—ã–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏ ‚ùå
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ conflicts ‚ùå
  - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ last_sync timestamp ‚ùå
- [ ] –§—É–Ω–∫—Ü–∏—è `AutoSync()` - –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤ —Ñ–æ–Ω–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) ‚ùå
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ offline —Ä–µ–∂–∏–º–∞ (–æ—Ç–ª–æ–∂–µ–Ω–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è) ‚ùå
- [ ] –¢–µ—Å—Ç—ã –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ ‚ùå

### 9.4 –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö (`internal/client/data/`) ‚ùå
- [ ] –§—É–Ω–∫—Ü–∏—è `AddCredential(name, login, password, ...)`: ‚ùå
  - –°–æ–∑–¥–∞–Ω–∏–µ Credential –º–æ–¥–µ–ª–∏ ‚ùå
  - –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤ JSON ‚ùå
  - –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ —Å encryption_key ‚ùå
  - –°–æ–∑–¥–∞–Ω–∏–µ CRDTEntry (timestamp from Lamport clock) ‚ùå
  - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ BoltDB ‚ùå
  - –ü–æ–º–µ—Ç–∫–∞ –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ ‚ùå
- [ ] –ê–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è text, binary, card ‚ùå
- [ ] –§—É–Ω–∫—Ü–∏—è `ListEntries(filter)` ‚Üí []Entry ‚ùå
- [ ] –§—É–Ω–∫—Ü–∏—è `GetEntry(id)` ‚Üí Entry (—Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π) ‚ùå
- [ ] –§—É–Ω–∫—Ü–∏—è `UpdateEntry(id, updates)` - –Ω–æ–≤–∞—è –≤–µ—Ä—Å–∏—è —Å –Ω–æ–≤—ã–º timestamp ‚ùå
- [ ] –§—É–Ω–∫—Ü–∏—è `DeleteEntry(id)` - soft delete —Å timestamp ‚ùå
- [ ] –¢–µ—Å—Ç—ã –¥–ª—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ ‚ùå

## –§–∞–∑–∞ 10: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 10.1 Unit —Ç–µ—Å—Ç—ã
- [ ] –¢–µ—Å—Ç—ã –¥–ª—è `internal/crypto/` (>80% coverage):
  - Key derivation —Å —Ä–∞–∑–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
  - –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ/–¥–µ—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ
  - –ì—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏ (–ø—É—Å—Ç—ã–µ –¥–∞–Ω–Ω—ã–µ, –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –∫–ª—é—á)
- [ ] –¢–µ—Å—Ç—ã –¥–ª—è `internal/crdt/` (>80% coverage):
  - Lamport clock tick/update
  - CRDT merge –≤ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö
  - –ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –∏ –∫–æ–º–º—É—Ç–∞—Ç–∏–≤–Ω–æ—Å—Ç—å
- [ ] –¢–µ—Å—Ç—ã –¥–ª—è `internal/validation/` (>80% coverage):
  - –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ username
  - Password –≤–∞–ª–∏–¥–∞—Ü–∏—è
- [ ] –¢–µ—Å—Ç—ã –¥–ª—è `internal/models/` (>80% coverage):
  - –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è/–¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤
- [ ] –¢–µ—Å—Ç—ã –¥–ª—è storage layers (>80% coverage):
  - Server SQLite storage
  - Client BoltDB storage
- [ ] –¢–µ—Å—Ç—ã –¥–ª—è auth –ª–æ–≥–∏–∫–∏ (>80% coverage):
  - JWT –≥–µ–Ω–µ—Ä–∞—Ü–∏—è/–≤–∞–ª–∏–¥–∞—Ü–∏—è
  - Token refresh
  - Master password flow
- [ ] –û–±—â–∏–π coverage –æ—Ç—á–µ—Ç: `go test -coverprofile=coverage.out ./... && go tool cover -html=coverage.out`
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ –ø–æ—Ä–æ–≥–∞: coverage >= 80%

### 10.2 –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã (`tests/integration/`)
- [ ] –¢–µ—Å—Ç—ã –¥–ª—è API —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ —Å —Ä–µ–∞–ª—å–Ω—ã–º SQLite (in-memory):
  - POST /api/v1/auth/register ‚Üí 201 Created
  - GET /api/v1/auth/salt/:username ‚Üí 200 OK —Å salt
  - POST /api/v1/auth/login ‚Üí 200 OK —Å —Ç–æ–∫–µ–Ω–∞–º–∏
  - POST /api/v1/auth/refresh ‚Üí 200 OK —Å –Ω–æ–≤—ã–º–∏ —Ç–æ–∫–µ–Ω–∞–º–∏
  - GET /api/v1/sync ‚Üí 200 OK —Å entries
  - POST /api/v1/sync ‚Üí 200 OK —Å conflicts
  - Negative cases: invalid data, unauthorized, rate limiting
- [ ] –¢–µ—Å—Ç—ã –¥–ª—è –∫–ª–∏–µ–Ω—Ç-—Å–µ—Ä–≤–µ—Ä –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è:
  - –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
  - –ö–ª–∏–µ–Ω—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è
  - –ö–ª–∏–µ–Ω—Ç –¥–æ–±–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ
  - –ö–ª–∏–µ–Ω—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- [ ] –¢–µ—Å—Ç—ã –¥–ª—è CRDT —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –º–µ–∂–¥—É –¥–≤—É–º—è –∫–ª–∏–µ–Ω—Ç–∞–º–∏:
  - –ö–ª–∏–µ–Ω—Ç 1 –¥–æ–±–∞–≤–ª—è–µ—Ç credential A
  - –ö–ª–∏–µ–Ω—Ç 2 –¥–æ–±–∞–≤–ª—è–µ—Ç credential B
  - –û–±–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç
  - –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ –æ–±–∞ –∫–ª–∏–µ–Ω—Ç–∞ –∏–º–µ—é—Ç A –∏ B
- [ ] –¢–µ—Å—Ç—ã –¥–ª—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤:
  - –û–±–∞ –∫–ª–∏–µ–Ω—Ç–∞ –∏–∑–º–µ–Ω—è—é—Ç –æ–¥–Ω—É –∑–∞–ø–∏—Å—å offline
  - –û–±–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è (–ø–æ timestamp + nodeID)

### 10.3 E2E —Ç–µ—Å—Ç—ã (`tests/e2e/`)
- [ ] –¢–µ—Å—Ç–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π: –Ω–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
  ```
  1. Register alice
  2. Login alice
  3. Add credential "GitHub"
  4. Sync
  5. Verify credential –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
  ```
- [ ] –¢–µ—Å—Ç–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π: –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–ª–∏–µ–Ω—Ç–æ–≤
  ```
  1. Client1: Register alice
  2. Client1: Add credential "GitHub"
  3. Client1: Sync
  4. Client2: Login alice (—Ç–æ—Ç –∂–µ username/password)
  5. Client2: Sync
  6. Verify Client2 –∏–º–µ–µ—Ç "GitHub"
  7. Client2: Add text "Note"
  8. Client2: Sync
  9. Client1: Sync
  10. Verify Client1 –∏–º–µ–µ—Ç "GitHub" –∏ "Note"
  ```
- [ ] –¢–µ—Å—Ç–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π: offline ‚Üí online
  ```
  1. Client: Login
  2. Stop server
  3. Client: Add credential (—Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ)
  4. Start server
  5. Client: Sync
  6. Verify data –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
  ```
- [ ] –¢–µ—Å—Ç–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π: –∫–æ–Ω—Ñ–ª–∏–∫—Ç–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ
  ```
  1. Both clients: Login
  2. Both clients: Sync (–ø–æ–ª—É—á–∞—é—Ç credential A)
  3. Stop server
  4. Client1: Update credential A (password = "pass1")
  5. Client2: Update credential A (password = "pass2")
  6. Start server
  7. Client1: Sync (push pass1)
  8. Client2: Sync (push pass2, conflict resolution)
  9. Verify winner based on timestamp
  ```

## –§–∞–∑–∞ 11: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### 11.1 Godoc –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [ ] Package documentation –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–∞–∫–µ—Ç–∞ (doc.go):
  - `internal/crypto` - "Package crypto provides encryption and key derivation functions"
  - `internal/crdt` - "Package crdt implements LWW-Element-Set CRDT for data synchronization"
  - `internal/models` - "Package models defines data structures for stored items"
  - –ò —Ç.–¥. –¥–ª—è –≤—Å–µ—Ö –ø–∞–∫–µ—Ç–æ–≤
- [ ] Godoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–ª—è –≤—Å–µ—Ö exported —Ñ—É–Ω–∫—Ü–∏–π:
  - –û–ø–∏—Å–∞–Ω–∏–µ —á—Ç–æ –¥–µ–ª–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—è
  - –û–ø–∏—Å–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
  - –û–ø–∏—Å–∞–Ω–∏–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
  - –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (–µ—Å–ª–∏ —Å–ª–æ–∂–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è)
- [ ] Godoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–ª—è –≤—Å–µ—Ö exported —Ç–∏–ø–æ–≤ –∏ –∏—Ö –ø–æ–ª–µ–π
- [ ] Godoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–ª—è –≤—Å–µ—Ö exported –∫–æ–Ω—Å—Ç–∞–Ω—Ç –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏: `go doc -all ./...`
- [ ] –ì–µ–Ω–µ—Ä–∞—Ü–∏—è HTML –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏: `godoc -http=:6060`

### 11.2 –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ README.md:
  - –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
  - –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è (Go 1.21+)
  - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ
  - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Å–±–æ—Ä–∫–µ (make build)
  - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∑–∞–ø—É—Å–∫—É —Å–µ—Ä–≤–µ—Ä–∞
  - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –∫–ª–∏–µ–Ω—Ç–∞
  - –ü—Ä–∏–º–µ—Ä—ã –∫–æ–º–∞–Ω–¥
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ docs/USAGE.md —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º–∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏:
  - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –ø–µ—Ä–≤—ã–π –ª–æ–≥–∏–Ω
  - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö
  - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
  - –†–∞–±–æ—Ç–∞ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ docs/ARCHITECTURE.md:
  - –î–∏–∞–≥—Ä–∞–º–º–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
  - –û–ø–∏—Å–∞–Ω–∏–µ zero-knowledge –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
  - –û–ø–∏—Å–∞–Ω–∏–µ CRDT —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
  - –°—Ö–µ–º—ã –ë–î
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ docs/API.md:
  - –û–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö endpoints
  - –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤/–æ—Ç–≤–µ—Ç–æ–≤ curl
  - –ö–æ–¥—ã –æ—à–∏–±–æ–∫
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ docs/SECURITY.md:
  - –û–ø–∏—Å–∞–Ω–∏–µ –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏–∏
  - Master password –ø–æ–¥—Ö–æ–¥
  - –ß—Ç–æ —Å–µ—Ä–≤–µ—Ä –∑–Ω–∞–µ—Ç / –Ω–µ –∑–Ω–∞–µ—Ç
  - Best practices –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## –§–∞–∑–∞ 12: –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (Nice to Have)

### 12.1 OTP (One Time Password) support
- [ ] –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö `OTPData`:
  - Name (e.g., "Google Account")
  - Secret (base32 encoded)
  - Issuer
  - Algorithm (SHA1/SHA256)
  - Digits (6/8)
  - Period (30s default)
- [ ] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è TOTP –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:
  - –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞: `github.com/pquerna/otp`
  - –§—É–Ω–∫—Ü–∏—è `GenerateTOTP(secret)` ‚Üí current code
  - –ü–æ–∫–∞–∑ remaining time –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ –∫–æ–¥–∞
- [ ] CLI –∫–æ–º–∞–Ω–¥—ã:
  - `gophkeeper add otp --name "Google" --secret "BASE32SECRET"`
  - `gophkeeper get-otp <id>` ‚Üí –ø–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—É—â–∏–π –∫–æ–¥ + countdown
  - `gophkeeper list otp` ‚Üí —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö OTP
- [ ] –¢–µ—Å—Ç—ã –¥–ª—è TOTP –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

### 12.2 TUI (Terminal User Interface)
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Bubble Tea framework
- [ ] –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω —Å —Å–ø–∏—Å–∫–æ–º –∑–∞–ø–∏—Å–µ–π:
  - –¢–∞–±–ª–∏—Ü–∞ —Å –∫–æ–ª–æ–Ω–∫–∞–º–∏: Type, Name, Tags
  - –ù–∞–≤–∏–≥–∞—Ü–∏—è: ‚Üë‚Üì –¥–ª—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è, Enter –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è
  - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è: / –¥–ª—è –ø–æ–∏—Å–∫–∞, Tab –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞ –ø–æ —Ç–∏–ø—É
- [ ] –≠–∫—Ä–∞–Ω –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∑–∞–ø–∏—Å–∏:
  - –ü–æ–∫–∞–∑ –≤—Å–µ—Ö –ø–æ–ª–µ–π (—Å –º–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–∏–µ–º –ø–∞—Ä–æ–ª–µ–π)
  - –ö–ª–∞–≤–∏—à–∏: e –¥–ª—è edit, d –¥–ª—è delete, ESC –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞
- [ ] –≠–∫—Ä–∞–Ω —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
  - –§–æ—Ä–º–∞ —Å –ø–æ–ª—è–º–∏
  - –ù–∞–≤–∏–≥–∞—Ü–∏—è: Tab –º–µ–∂–¥—É –ø–æ–ª—è–º–∏
  - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ: Ctrl+S
- [ ] Hot keys:
  - q - –≤—ã—Ö–æ–¥
  - a - add new entry
  - s - sync
  - ? - help
- [ ] –¢–µ—Å—Ç—ã –¥–ª—è TUI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### 12.3 gRPC –≤–º–µ—Å—Ç–æ REST
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ proto —Ñ–∞–π–ª–æ–≤:
  - `api/proto/auth.proto` (Register, Login, GetSalt, Refresh)
  - `api/proto/sync.proto` (GetSync, PostSync)
  - `api/proto/models.proto` (CRDTEntry, Credential, etc.)
- [ ] –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Go –∫–æ–¥–∞: `protoc --go_out=. --go-grpc_out=. api/proto/*.proto`
- [ ] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è gRPC —Å–µ—Ä–≤–µ—Ä–∞:
  - –ó–∞–º–µ–Ω–∞ HTTP handlers –Ω–∞ gRPC methods
  - TLS –¥–ª—è gRPC
  - Interceptors –¥–ª—è auth, logging, rate limiting
- [ ] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è gRPC –∫–ª–∏–µ–Ω—Ç–∞:
  - –ó–∞–º–µ–Ω–∞ HTTP client –Ω–∞ gRPC client
  - Connection pooling
- [ ] –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏: REST vs gRPC

### 12.4 Swagger/OpenAPI –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∫–∞ swaggo: `go install github.com/swaggo/swag/cmd/swag@latest`
- [ ] –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –≤ handlers:
  ```go
  // @Summary Register new user
  // @Tags auth
  // @Accept json
  // @Produce json
  // @Param request body api.RegisterRequest true "Register Request"
  // @Success 200 {object} api.RegisterResponse
  // @Router /api/v1/auth/register [post]
  ```
- [ ] –ì–µ–Ω–µ—Ä–∞—Ü–∏—è swagger.json: `swag init`
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Swagger UI:
  - Endpoint GET /swagger/index.html
  - –°—Ç–∞—Ç–∏—á–Ω—ã–µ —Ñ–∞–π–ª—ã swagger-ui
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤—Å–µ—Ö endpoints

## –§–∞–∑–∞ 13: –°–±–æ—Ä–∫–∞ –∏ –¥–∏—Å—Ç—Ä–∏–±—É—Ü–∏—è

### 13.1 Makefile
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ Makefile —Å –∫–æ–º–∞–Ω–¥–∞–º–∏:
  ```makefile
  build-server:     # –°–±–æ—Ä–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
  build-client:     # –°–±–æ—Ä–∫–∞ –∫–ª–∏–µ–Ω—Ç–∞
  build-all:        # –°–±–æ—Ä–∫–∞ –≤—Å–µ—Ö –±–∏–Ω–∞—Ä–Ω–∏–∫–æ–≤
  test:             # –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
  test-coverage:    # –¢–µ—Å—Ç—ã —Å coverage –æ—Ç—á–µ—Ç–æ–º
  lint:             # –ó–∞–ø—É—Å–∫ golangci-lint
  clean:            # –û—á–∏—Å—Ç–∫–∞ –±–∏–Ω–∞—Ä–Ω–∏–∫–æ–≤ –∏ –∫–µ—à–∞
  docker-build:     # –°–±–æ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑–∞
  docker-run:       # –ó–∞–ø—É—Å–∫ –≤ Docker
  ```
- [ ] Cross-compilation –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞:
  ```makefile
  build-client-all:
    GOOS=linux GOARCH=amd64 go build -ldflags "..." -o bin/gophkeeper-client-linux-amd64
    GOOS=darwin GOARCH=amd64 go build -ldflags "..." -o bin/gophkeeper-client-darwin-amd64
    GOOS=darwin GOARCH=arm64 go build -ldflags "..." -o bin/gophkeeper-client-darwin-arm64
    GOOS=windows GOARCH=amd64 go build -ldflags "..." -o bin/gophkeeper-client-windows-amd64.exe
  ```
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:
  ```makefile
  VERSION := $(shell git describe --tags --always --dirty)
  BUILD_DATE := $(shell date -u +"%Y-%m-%dT%H:%M:%SZ")
  LDFLAGS := -X main.buildVersion=$(VERSION) -X main.buildDate=$(BUILD_DATE)
  ```

### 13.2 Docker
- [ ] Dockerfile –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞:
  ```dockerfile
  FROM golang:1.21 AS builder
  WORKDIR /app
  COPY . .
  RUN make build-server

  FROM alpine:latest
  RUN apk --no-cache add ca-certificates
  COPY --from=builder /app/bin/gophkeeper-server /usr/local/bin/
  EXPOSE 8080
  CMD ["gophkeeper-server"]
  ```
- [ ] .dockerignore —Ñ–∞–π–ª
- [ ] docker-compose.yml –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
  ```yaml
  version: '3.8'
  services:
    server:
      build: .
      ports:
        - "8080:8080"
      volumes:
        - ./data:/data
      environment:
        - DB_PATH=/data/gophkeeper.db
        - JWT_SECRET=dev_secret
  ```

### 13.3 CI/CD (GitHub Actions)
- [ ] `.github/workflows/test.yml`:
  - –ó–∞–ø—É—Å–∫ –Ω–∞ push –∏ PR
  - –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ coverage (–º–∏–Ω–∏–º—É–º 80%)
  - –ó–∞–ø—É—Å–∫ linter
- [ ] `.github/workflows/release.yml`:
  - –¢—Ä–∏–≥–≥–µ—Ä –Ω–∞ git tag (v*)
  - –°–±–æ—Ä–∫–∞ –±–∏–Ω–∞—Ä–Ω–∏–∫–æ–≤ –¥–ª—è –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º
  - –°–æ–∑–¥–∞–Ω–∏–µ GitHub Release
  - –ó–∞–≥—Ä—É–∑–∫–∞ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤
  - –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –ø—É–±–ª–∏–∫–∞—Ü–∏—è Docker –æ–±—Ä–∞–∑–∞ –≤ registry
- [ ] `.github/workflows/lint.yml`:
  - –ó–∞–ø—É—Å–∫ golangci-lint
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (gofmt)

### 13.4 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ
- [ ] –°–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –¥–ª—è Linux/macOS:
  ```bash
  curl -sSL https://raw.githubusercontent.com/.../install.sh | bash
  ```
- [ ] –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è Windows (—Å–∫–∞—á–∞—Ç—å .exe –∏–∑ Releases)
- [ ] –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: Homebrew formula
- [ ] –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: apt/yum —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

## –§–∞–∑–∞ 14: –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 14.1 –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π
- [ ] **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
  - [ ] –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Ä–∞–±–æ—Ç–∞–µ—Ç
  - [ ] –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Å master password —Ä–∞–±–æ—Ç–∞–µ—Ç
  - [ ] –í—Å–µ 4 —Ç–∏–ø–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è (credential, text, binary, card)
  - [ ] –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –º–µ–∂–¥—É –∫–ª–∏–µ–Ω—Ç–∞–º–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
  - [ ] CRDT –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã
  - [ ] –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ/–¥–µ—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
  - [ ] Username —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞
  - [ ] Master password –∏–∑ env –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
  - [ ] Unit —Ç–µ—Å—Ç—ã: `go test ./...` –ø—Ä–æ—Ö–æ–¥—è—Ç
  - [ ] Coverage: `go test -cover ./...` >= 80%
  - [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
  - [ ] E2E —Å—Ü–µ–Ω–∞—Ä–∏–π —Å –¥–≤—É–º—è –∫–ª–∏–µ–Ω—Ç–∞–º–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] **–ö—Ä–æ—Å—Å-–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç—å:**
  - [ ] CLI —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –¥–ª—è Linux (amd64)
  - [ ] CLI —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –¥–ª—è macOS (amd64, arm64)
  - [ ] CLI —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –¥–ª—è Windows (amd64)
  - [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö
- [ ] **–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ:**
  - [ ] `gophkeeper-client --version` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤–µ—Ä—Å–∏—é
  - [ ] `gophkeeper-client --version` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–∞—Ç—É —Å–±–æ—Ä–∫–∏
- [ ] **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
  - [ ] –í—Å–µ exported —Ñ—É–Ω–∫—Ü–∏–∏ –∏–º–µ—é—Ç godoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
  - [ ] –í—Å–µ exported —Ç–∏–ø—ã –∏–º–µ—é—Ç godoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
  - [ ] –í—Å–µ –ø–∞–∫–µ—Ç—ã –∏–º–µ—é—Ç package documentation
  - [ ] README.md –∞–∫—Ç—É–∞–ª–µ–Ω –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–∏–º–µ—Ä—ã

### 14.2 –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- [ ] Master password –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è
- [ ] Encryption key –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è
- [ ] –¢–æ–∫–µ–Ω—ã —à–∏—Ñ—Ä—É—é—Ç—Å—è –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
- [ ] TLS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (–º–∏–Ω–∏–º—É–º TLS 1.3)
- [ ] Rate limiting —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö endpoints
- [ ] SQL injection –∑–∞—â–∏—Ç–∞ (prepared statements)
- [ ] Sensitive –¥–∞–Ω–Ω—ã–µ –Ω–µ –ø–æ–ø–∞–¥–∞—é—Ç –≤ –ª–æ–≥–∏
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Ç–∏–ø–∏—á–Ω—ã–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏ (OWASP Top 10)

### 14.3 Code quality
- [ ] `golangci-lint run` –ø—Ä–æ—Ö–æ–¥–∏—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] `gofmt -s -w .` - –∫–æ–¥ –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω
- [ ] `go vet ./...` - –Ω–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π
- [ ] –ù–µ—Ç TODO/FIXME –≤ production –∫–æ–¥–µ
- [ ] –ù–µ—Ç –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–¥–∞
- [ ] –ù–µ—Ç magic numbers (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç)
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö –æ—à–∏–±–æ–∫ (no ignored errors)
- [ ] Graceful shutdown —Å–µ—Ä–≤–µ—Ä–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç

### 14.4 SQLite –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ)
- [ ] **–ü—Ä–æ–≤–µ—Ä–∫–∞ WAL —Ä–µ–∂–∏–º–∞:**
  - [ ] –ó–∞–ø—Ä–æ—Å `PRAGMA journal_mode;` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `wal`
  - [ ] –§–∞–π–ª—ã `*.db-wal` –∏ `*.db-shm` —Å–æ–∑–¥–∞—é—Ç—Å—è
- [ ] **–ü—Ä–æ–≤–µ—Ä–∫–∞ connection pool:**
  - [ ] `db.Stats().OpenConnections` –≤—Å–µ–≥–¥–∞ <= 1
  - [ ] –ö–æ–¥ —Å–æ–¥–µ—Ä–∂–∏—Ç `db.SetMaxOpenConns(1)`
  - [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ "database is locked" –ø—Ä–∏ –Ω–∞–≥—Ä—É–∑–∫–µ
- [ ] **–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥—Ä—É–≥–∏—Ö pragma:**
  - [ ] `PRAGMA busy_timeout;` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 5000
  - [ ] `PRAGMA foreign_keys;` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 1 (ON)
- [ ] **–ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
  - [ ] 100 –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –±–µ–∑ –æ—à–∏–±–æ–∫ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
  - [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –æ–¥–Ω–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å –Ω–∞–≥—Ä—É–∑–∫–æ–π

### 14.5 Performance
- [ ] –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è 1000 –∑–∞–ø–∏—Å–µ–π < 5 —Å–µ–∫—É–Ω–¥
- [ ] –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è/–ª–æ–≥–∏–Ω < 2 —Å–µ–∫—É–Ω–¥ (Argon2 –º–µ–¥–ª–µ–Ω–Ω—ã–π, —ç—Ç–æ –æ–∂–∏–¥–∞–µ–º–æ)
- [ ] –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ/–¥–µ—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ 1MB —Ñ–∞–π–ª–∞ < 1 —Å–µ–∫—É–Ω–¥–∞
- [ ] –°–µ—Ä–≤–µ—Ä –≤—ã–¥–µ—Ä–∂–∏–≤–∞–µ—Ç 100 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π (—Å MaxOpenConns=1)
- [ ] –ù–µ—Ç memory leaks (–ø—Ä–æ–≤–µ—Ä–∫–∞ —Å pprof)

### 14.6 –§–∏–Ω–∞–ª—å–Ω—ã–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥
- [ ] –£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ –∫–æ–¥–∞
- [ ] –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–º–ø–æ—Ä—Ç–æ–≤
- [ ] –£–ø—Ä–æ—â–µ–Ω–∏–µ —Å–ª–æ–∂–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π (cyclomatic complexity)
- [ ] –£–ª—É—á—à–µ–Ω–∏–µ —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ –∫–æ–¥–∞
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤

## –û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ (–æ–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è)

| –§–∞–∑–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –î–Ω–∏ | –°–ª–æ–∂–Ω–æ—Å—Ç—å |
|------|----------|-----|-----------|
| 1 | –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ | 1-2 | –ù–∏–∑–∫–∞—è |
| 2 | –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –º–æ–¥–µ–ª–∏ | 2-3 | –ù–∏–∑–∫–∞—è |
| 3 | –ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—è | 3-5 | –°—Ä–µ–¥–Ω—è—è |
| 4 | –•—Ä–∞–Ω–∏–ª–∏—â–∞ (SQLite + BoltDB) | 4-6 | –°—Ä–µ–¥–Ω—è—è |
| 5 | CRDT | 5-7 | **–í—ã—Å–æ–∫–∞—è** |
| 6 | API –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ | 2-3 | –ù–∏–∑–∫–∞—è |
| 7 | –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è | 4-6 | –°—Ä–µ–¥–Ω—è—è |
| 8 | –°–µ—Ä–≤–µ—Ä–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è | 3-5 | –°—Ä–µ–¥–Ω—è—è |
| 9 | –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è | 5-7 | –°—Ä–µ–¥–Ω—è—è |
| 10 | –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (80%+) | 7-10 | **–í—ã—Å–æ–∫–∞—è** |
| 11 | –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è | 2-3 | –ù–∏–∑–∫–∞—è |
| 12 | –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ | 5-10 | –°—Ä–µ–¥–Ω—è—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) |
| 13 | –°–±–æ—Ä–∫–∞ –∏ CI/CD | 2-3 | –ù–∏–∑–∫–∞—è |
| 14 | –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ | 2-3 | –°—Ä–µ–¥–Ω—è—è |

**–ò—Ç–æ–≥–æ:**
- **MVP (–±–µ–∑ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π)**: 42-57 –¥–Ω–µ–π (6-8 –Ω–µ–¥–µ–ª—å)
- **–ü–æ–ª–Ω–∞—è –≤–µ—Ä—Å–∏—è (—Å –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏)**: 47-67 –¥–Ω–µ–π (7-10 –Ω–µ–¥–µ–ª—å)

## –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è (MoSCoW)

### Must Have (–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è MVP)
1. ‚úÖ Master password authentication —Å Argon2
2. ‚úÖ AES-256-GCM —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ
3. ‚úÖ BoltDB –∫–ª–∏–µ–Ω—Ç, SQLite —Å–µ—Ä–≤–µ—Ä (modernc.org/sqlite - pure Go)
4. ‚úÖ **SQLite: WAL mode + MaxOpenConns=1** (–∫—Ä–∏—Ç–∏—á–Ω–æ!)
5. ‚úÖ CRDT (LWW-Element-Set) —Å Lamport clock
6. ‚úÖ REST API (8 endpoints)
7. ‚úÖ 4 —Ç–∏–ø–∞ –¥–∞–Ω–Ω—ã—Ö: credential, text, binary, card
8. ‚úÖ Metadata –ø–æ–¥–¥–µ—Ä–∂–∫–∞
9. ‚úÖ CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã)
10. ‚úÖ Username —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ
11. ‚úÖ Master password –∏–∑ env –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
12. ‚úÖ TLS —Å Let's Encrypt (production), --insecure –¥–ª—è dev
13. ‚úÖ Rate limiting
14. ‚úÖ JWT + refresh tokens
15. ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è username (regex)
16. ‚úÖ 80%+ test coverage
17. ‚úÖ Cross-platform (Win/Linux/macOS) –±–µ–∑ CGO
18. ‚úÖ Godoc –¥–ª—è –≤—Å–µ—Ö exported
19. ‚úÖ net/http.ServeMux (Go 1.22+), log/slog
20. ‚úÖ –°–ª–æ–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (3 —Å–ª–æ—è)
21. ‚úÖ testify + gomock + —Ç–∞–±–ª–∏—á–Ω—ã–µ —Ç–µ—Å—Ç—ã

### Should Have (–í–∞–∂–Ω–æ, –Ω–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ)
1. üìã –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
2. üìã E2E —Ç–µ—Å—Ç—ã
3. üìã Docker –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞
4. üìã CI/CD (GitHub Actions)
5. üìã –î–µ—Ç–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (USAGE, ARCHITECTURE, API, SECURITY)
6. üìã Makefile —Å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–µ–π
7. üìã Graceful shutdown
8. üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### Could Have (–ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ)
1. üí° OTP (TOTP) –ø–æ–¥–¥–µ—Ä–∂–∫–∞
2. üí° TUI (Bubble Tea)
3. üí° Search —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
4. üí° Auto-sync –≤ —Ñ–æ–Ω–µ
5. üí° Offline mode —É–ª—É—á—à–µ–Ω–∏—è

### Won't Have (–ù–µ –≤ —ç—Ç–æ–π –≤–µ—Ä—Å–∏–∏, –Ω–æ –≤–æ–∑–º–æ–∂–Ω–æ –≤ –±—É–¥—É—â–µ–º)
1. ‚ùå gRPC (–Ω–∞—á–∏–Ω–∞–µ–º —Å REST)
2. ‚ùå Swagger UI (OpenAPI spec –º–æ–∂–Ω–æ)
3. ‚ùå Web –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
4. ‚ùå Mobile –∫–ª–∏–µ–Ω—Ç—ã
5. ‚ùå –ü–ª–∞–≥–∏–Ω—ã / —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
6. ‚ùå Sharing –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
7. ‚ùå –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ù–∞—á–∞—Ç—å —Å –§–∞–∑—ã 1** - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
2. **–°–æ–∑–¥–∞—Ç—å –≤–µ—Ç–∫—É** `develop` –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
3. **–ö–æ–º–º–∏—Ç–∏—Ç—å —á–∞—Å—Ç–æ** - –º–∞–ª–µ–Ω—å–∫–∏–µ, –ª–æ–≥–∏—á–Ω—ã–µ –∫–æ–º–º–∏—Ç—ã
4. **–¢–µ—Å—Ç—ã —Å—Ä–∞–∑—É** - TDD –ø–æ–¥—Ö–æ–¥ –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ
5. **Code review** - —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –∫–æ–º–º–∏—Ç–æ–º
6. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Ö–æ–¥—É** - –Ω–µ –æ—Ç–∫–ª–∞–¥—ã–≤–∞—Ç—å –Ω–∞ –ø–æ—Ç–æ–º
7. **–†–µ–≥—É–ª—è—Ä–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** —Å TECHNICAL_SPEC.md

## –†–∏—Å–∫–∏ –∏ –º–∏—Ç–∏–≥–∞—Ü–∏—è

| –†–∏—Å–∫ | –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å | –í–ª–∏—è–Ω–∏–µ | –ú–∏—Ç–∏–≥–∞—Ü–∏—è |
|------|-------------|---------|-----------|
| CRDT –æ–∫–∞–∑–∞–ª—Å—è —Å–ª–æ–∂–Ω–µ–µ | –°—Ä–µ–¥–Ω—è—è | –í—ã—Å–æ–∫–æ–µ | –ù–∞—á–∞—Ç—å —Å –ø—Ä–æ—Å—Ç–æ–π LWW, —É—Å–ª–æ–∂–Ω—è—Ç—å –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ |
| 80% coverage –Ω–µ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç | –°—Ä–µ–¥–Ω—è—è | –í—ã—Å–æ–∫–æ–µ | –ü–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å –∫–æ–¥–æ–º (TDD) |
| SQLite "database is locked" | **–í—ã—Å–æ–∫–∞—è** | **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ** | **WAL mode + MaxOpenConns=1 –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û** |
| –ó–∞–±—ã–ª–∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å MaxOpenConns | –°—Ä–µ–¥–Ω—è—è | –í—ã—Å–æ–∫–æ–µ | Code review, —Ç–µ—Å—Ç—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç db.Stats() |
| Argon2 —Å–ª–∏—à–∫–æ–º –º–µ–¥–ª–µ–Ω–Ω—ã–π | –ù–∏–∑–∫–∞—è | –°—Ä–µ–¥–Ω–µ–µ | –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (memory, iterations) |
| –ü—Ä–æ–±–ª–µ–º—ã —Å BoltDB | –ù–∏–∑–∫–∞—è | –°—Ä–µ–¥–Ω–µ–µ | –•–æ—Ä–æ—à–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å, fallback –Ω–∞ SQLite |
| TLS —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ | –ù–∏–∑–∫–∞—è | –°—Ä–µ–¥–Ω–µ–µ | Let's Encrypt –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è |
| Cross-platform –±–∞–≥–∏ –±–µ–∑ CGO | –ù–∏–∑–∫–∞—è | –°—Ä–µ–¥–Ω–µ–µ | modernc.org/sqlite pure Go, CI –Ω–∞ –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö |
